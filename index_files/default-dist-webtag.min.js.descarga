(function (window) {
window.FSJSC_sendData=function(){var t=document.createEvent("CustomEvent");t.initCustomEvent("JSC_sendData",!0,!1,{}),document.documentElement.dispatchEvent(t)},window.FSJSC_notifyAutoFill=function(t){var n=document.createEvent("CustomEvent");n.initCustomEvent("JSC_autoFillEvent",!0,!1,{}),n.autoFillTarget=t,document.documentElement.dispatchEvent(n)},window.FSJSC_notifyAutoFillCancel=function(t){var n=document.createEvent("CustomEvent");n.initCustomEvent("JSC_autoFillCancelEvent",!0,!1,{}),n.autoFillCancelTarget=t,document.documentElement.dispatchEvent(n)},window.FSJSC_setCurrentContext=function(t){var n=document.createEvent("CustomEvent");n.initCustomEvent("JSC_setContext",!0,!1,{}),n.context=t,document.documentElement.dispatchEvent(n)},window.FSJSC_notifyCustomAction=function(t,n){var e=document.createEvent("CustomEvent");e.initCustomEvent("JSC_customAction",!0,!1,{}),e.action={type:t,label:n},document.documentElement.dispatchEvent(e)},window.FSJSC_notifySessionEnd=function(){var t=document.createEvent("CustomEvent");t.initCustomEvent("JSC_sessionEnd",!0,!1,{}),document.documentElement.dispatchEvent(t)};
window.FSJSC_profile = function(consumerId, sessionId, endpoint) {
var CLIENT_ID = "default";
var DEBUG = false;
var DYNAMIC_POSTING = true;
var POST_FREQUENCY = 30000;
var POST_ONLY_ON_REQUEST = false;
var CAPTURE_MOUSE_MOTION = false;
var CAPTURE_MOUSE_DOWN = true;
var CAPTURE_MOUSE_UP = true;
var CAPTURE_KEY_DOWN = true;
var CAPTURE_KEY_UP = true;

// input masks - these are fields where the user may enter sensitive details that we don't want to explicitly record.
var input_masks = {'password': 1, 'password_confirmation': 1, 'credit_card_number': 1, 'credit_card_number': 1, 'credit_card_cvv': 1 };

// capture points - these are the fingerprinting capture points.
var capture_points = { 1: true, 2: true, 3: true, 4: true, 5: true, 6: true, 7: true, 8: true, 9: true, 10: false, 11: true, 12: true, 13: true, 14: true, 15: true, 16: true, 17: true, 18: true, 19: true };

/* @preserve
 * FSJSC version 1.5.4
*/
function setCookie(e,t,n){var o=new Date;o.setTime(o.getTime()+n);var a="expires="+o.toUTCString();document.cookie=e+"="+t+"; "+a}function getCookie(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var a=n[o];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}function get_browser_info(){try{var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:e[1]||""}):/Edge\/\d./i.test(t)?(e=t.indexOf("Edge/"),{name:"Edge",version:parseInt(t.substring(e+5,t.indexOf(".",e)),10)}):"Chrome"===n[1]&&null!=(e=t.match(/\bOPR\/(\d+)/))?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}catch(e){return{name:"error",version:"error"}}}function get_os(){var e="unknown OS";return-1!=navigator.appVersion.indexOf("Win")&&(e="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&(e="MacOS"),-1!=navigator.appVersion.indexOf("X11")&&(e="UNIX"),-1!=navigator.appVersion.indexOf("Linux")&&(e="Linux"),e}/*!
   * Piwik - free/libre analytics platform
   *
   * JavaScript tracking client
   *
   * @link http://piwik.org
   * @source https://github.com/piwik/piwik/blob/master/js/piwik.js
   * @license http://piwik.org/free-software/bsd/ BSD-3 Clause (also in js/LICENSE.txt)
   * @license magnet:?xt=urn:btih:c80d50af7d3db9be66a4d0a86db0286e4fd33292&dn=bsd-3-clause.txt BSD-3-Clause
   */
function isDefined(e){return void 0!==e}function getJavaVersions(){var e,t,n={java:"application/x-java-vm"},o="";if(navigator.mimeTypes&&navigator.mimeTypes.length)for(e in n)if(t=navigator.mimeTypes[n[e]])for(var a=t.enabledPlugin,i=0;i<a.length;i++)o+=a[i].type,i<a.length-1&&(o+="|");return""==o&&"unknown"!=typeof navigator.javaEnabled&&isDefined(navigator.javaEnabled)&&navigator.javaEnabled()&&(o="JAVA NOT FOUND"),""==o&&(o="JAVA NOT FOUND"),o}function getInstalledFonts(){var e=["monospace","sans-serif","serif"],t=JSON.parse(thirdParty.LZString.decompressFromBase64("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")),n=document.getElementsByTagName("body")[0],o=document.createElement("div"),a=document.createElement("div"),i={},r={},s=function(){var e=document.createElement("span");return e.style.position="absolute",e.style.left="-9999px",e.style.fontSize="72px",e.style.lineHeight="normal",e.innerHTML="mmmmmmmmmmlli",e},c=function(e,t){var n=s();return n.style.fontFamily="'"+e+"',"+t,n},d=function(){for(var t=[],n=0,a=e.length;n<a;n++){var i=s();i.style.fontFamily=e[n],o.appendChild(i),t.push(i)}return t}();n.appendChild(o);for(var l=0,u=e.length;l<u;l++)i[e[l]]=d[l].offsetWidth,r[e[l]]=d[l].offsetHeight;var g=function(){for(var n={},o=0,i=t.length;o<i;o++){for(var r=[],s=0,d=e.length;s<d;s++){var l=c(t[o],e[s]);a.appendChild(l),r.push(l)}n[t[o]]=r}return n}();n.appendChild(a);for(var p=[],h=0,A=t.length;h<A;h++)(function(t){for(var n=!1,o=0;o<e.length;o++)if(n=t[o].offsetWidth!==i[e[o]]||t[o].offsetHeight!==r[e[o]])return n;return n})(g[t[h]])&&p.push(t[h]);return n.removeChild(a),n.removeChild(o),p}function getLocale(){return navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||"Locale not found"}function getCanvasFingerprint(){var e=[],t=document.createElement("canvas");if(t.width=2e3,t.height=200,t.style.display="inline",t.getContext){var n=t.getContext("2d");return n.rect(0,0,10,10),n.rect(2,2,6,6),e.push("canvas winding:"+(!1===n.isPointInPath(5,5,"evenodd")?"yes":"no")),n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",n.font="11pt Arial",n.fillText("Cwm fjordbank glyphs vext quiz, 😃",2,15),n.fillStyle="rgba(102, 204, 0, 0.2)",n.font="18pt Arial",n.fillText("Cwm fjordbank glyphs vext quiz, 😃",4,45),n.globalCompositeOperation="multiply",n.fillStyle="rgb(255,0,255)",n.beginPath(),n.arc(50,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(0,255,255)",n.beginPath(),n.arc(100,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,255,0)",n.beginPath(),n.arc(75,100,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,0,255)",n.arc(75,75,75,0,2*Math.PI,!0),n.arc(75,75,25,0,2*Math.PI,!0),n.fill("evenodd"),e.push("canvas fp:"+t.toDataURL()),e=e.join("~"),thirdParty.md5lib(e)}return"canvas not supported"}function webRtcSupport(){window.mozRTCPeerConnection||navigator.mozGetUserMedia?("moz",parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10)):(window.webkitRTCPeerConnection||navigator.webkitGetUserMedia)&&("webkit",navigator.userAgent.match(/Chrom(e|ium)/)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10));var e=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;return!!e&&!!t}function getAudioVideoDeviceIds(e){var t=[];navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(n){n.forEach(function(e){t.push(e.kind+": "+e.label+" id = "+e.deviceId)}),e(t)}).catch(function(t){console.log(t.name+": "+t.message),e(t)}):(t="enumerateDevices() not supported.",e(t))}function getLocalIpAddress(e){try{window.RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;var t=new RTCPeerConnection({iceServers:[]}),n=function(){};t.createDataChannel?(t.createDataChannel(""),t.createOffer(t.setLocalDescription.bind(t),n),t.onicecandidate=function(o){if(!o||!o.candidate||!o.candidate.candidate)return void e("error");var a=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(o.candidate.candidate);e(a&&a[1]?a[1]:"error"),t.onicecandidate=n},setTimeout(function(){t.iceGatheringState&&"new"==t.iceGatheringState&&e("error")},300)):e("error")}catch(t){e(t)}}function get_time_delta(){var e,t=new Date,n=t.getTime();return e=null===last_time?0:n-last_time,last_time=n,e}function setup_input_recorder(){var e=getDecompressedSessionCookie(getCookie("wtsid"));sessionId&&null!==sessionId?sessionId===e.sessionId&&consumerId===e.consumerId||(handleSessionStart(),getFingerprint()):""===e.sessionId||"null"===e.sessionId?(internalSessionId=makeUUID("xxxxxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx"),handleSessionStart(),getFingerprint()):internalSessionId=e.sessionId,DYNAMIC_POSTING&&(timer=setInterval(post_input_data,POST_FREQUENCY),document.onkeydown=handleKeyDown,document.onkeyup=handleKeyUp,window.onbeforeunload=handleOnBeforeUnload,document.documentElement.addEventListener("JSC_autoFillEvent",handleAutoFill),document.documentElement.addEventListener("JSC_autoFillCancelEvent",handleAutoFillCancel),document.documentElement.addEventListener("JSC_sendData",function(){post_input_data(!0)}),document.documentElement.addEventListener("JSC_setContext",handleContextChange),document.documentElement.addEventListener("JSC_customAction",handleCustomAction),document.documentElement.addEventListener("JSC_sessionEnd",handleSessionEnd),document.onvisibilitychange=handleVisibilityChange,CAPTURE_MOUSE_MOTION&&(document.onmousemove=handleMouseMove),CAPTURE_MOUSE_DOWN&&(document.onmousedown=handleMouseDown),CAPTURE_MOUSE_UP&&(document.onmouseup=handleMouseUp))}function checkActionLimit(){(++counter>200||200==data.length)&&(post_input_data(),clearInterval(timer),timer=setInterval(post_input_data,POST_FREQUENCY))}function handleVisibilityChange(e){var t={t:get_time_delta()};document.hidden?t.a="vch":t.a="vcv",data.push(addContextToAction(t)),checkActionLimit()}function addContextToAction(e){return context&&(e.c=context),e}function handleContextChange(e){var t={a:"cc",t:get_time_delta()};context=e.context,data.push(addContextToAction(t)),checkActionLimit()}function handleCustomAction(e){if(e.action&&e.action.type){var t={a:"ca",t:get_time_delta(),ca:e.action.type};e.action.label&&(t.l=e.action.label),data.push(addContextToAction(t)),checkActionLimit()}}function handleSessionStart(){var e={a:"ss"};data.push(e),checkActionLimit()}function handleSessionEnd(e){var t={a:"se",t:get_time_delta()};data.push(t),post_input_data(!0),setCookie("wtsid",null,0),clearInterval(timer)}function handleAutoFill(e){if(e.autoFillTarget){var t={a:"af",t:get_time_delta(),xpath:createXPathFromElement(e.autoFillTarget)};data.push(addContextToAction(t)),checkActionLimit()}}function handleAutoFillCancel(e){if(e.autoFillCancelTarget){var t={a:"afc",t:get_time_delta(),xpath:createXPathFromElement(e.autoFillCancelTarget)};data.push(addContextToAction(t)),checkActionLimit()}}function handleMouseMove(e){var t,n,o;e=e||window.event,null==e.pageX&&null!=e.clientX&&(t=e.target&&e.target.ownerDocument||document,n=t.documentElement,o=t.body,e.pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0));var a,i;null===last_x?(a=e.pageX,i=e.pageY):(a=e.pageX-last_x,i=e.pageY-last_y),last_x=e.pageX,last_y=e.pageY;var r={a:"mm",x:a,y:i,t:get_time_delta()};data.push(addContextToAction(r)),checkActionLimit(),DEBUG&&(document.Form1.posx.value=e.pageX,document.Form1.posy.value=e.pageY)}function handleMouseDown(e){e=e||window.event,DEBUG&&(document.Form1.mouse.value=e.button);var t={a:"md",b:e.button,t:get_time_delta(),xpath:createXPathFromElement(e.target)};data.push(addContextToAction(t)),checkActionLimit()}function handleMouseUp(e){e=e||window.event,DEBUG&&(document.Form1.mouse.value="");var t={a:"mu",b:e.button,t:get_time_delta(),xpath:createXPathFromElement(e.target)};data.push(addContextToAction(t)),checkActionLimit()}function handleKeyDown(e){if(e=e||window.event,DEBUG&&(document.Form1.keyboard.value=e.which),!_isKeyDown(e)){if(e.target=e.target||e.srcElement,CAPTURE_KEY_DOWN)if(e.target.id in input_masks){var t={a:"kd",t:get_time_delta(),xpath:createXPathFromElement(e.target)};data.push(addContextToAction(t)),checkActionLimit()}else{var t={a:"kd",key:e.key,wh:e.which,kC:e.keyCode,code:e.code,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,t:get_time_delta(),xpath:createXPathFromElement(e.target)};data.push(addContextToAction(t)),checkActionLimit()}_downKey(e)}}function handleKeyUp(e){if(e=e||window.event,DEBUG&&(document.Form1.keyboard.value=""),e.target=e.target||e.srcElement,CAPTURE_KEY_UP)if(e.target.id in input_masks){var t={a:"ku",t:get_time_delta(),xpath:createXPathFromElement(e.target)};data.push(addContextToAction(t)),checkActionLimit()}else{var t={a:"ku",key:e.key,wh:e.which,kC:e.keyCode,code:e.code,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,t:get_time_delta(),xpath:createXPathFromElement(e.target)};data.push(addContextToAction(t)),checkActionLimit()}_upKey(e)}function handleOnBeforeUnload(e){clearInterval(timer);var t={a:"bu",t:get_time_delta()};data.push(addContextToAction(t)),post_input_data(!0)}function _downKey(e){e=e||window.event;var t=e.which,n=e.keyCode;null==_prevKeyDown[t]&&(_prevKeyDown[t]={}),_prevKeyDown[t][n]=!0}function _upKey(e){e=e||window.event;var t=e.which,n=e.keyCode;null!=_prevKeyDown[t]&&(_prevKeyDown[t][n]=null)}function _isKeyDown(e){e=e||window.event;var t=e.which,n=e.keyCode,o=!1;return null!=_prevKeyDown[t]&&1==_prevKeyDown[t][n]&&(o=!0),o}function createXPathFromElement(e){for(var t=document.getElementsByTagName("*"),n=[];e&&1==e.nodeType;e=e.parentNode)if(e.hasAttribute("id")){for(var o=0,a=0;a<t.length&&(t[a].hasAttribute("id")&&t[a].id==e.id&&o++,!(o>1));a++);if(1==o)return n.unshift('id("'+e.getAttribute("id")+'")'),n.join("/");e.localName&&n.unshift(e.localName.toLowerCase()+'[@id="'+e.getAttribute("id")+'"]')}else if(e.hasAttribute("class"))e.localName&&n.unshift(e.localName.toLowerCase()+'[@class="'+e.getAttribute("class")+'"]');else{for(var i=e.previousSibling,r=1;i;i=i.previousSibling)i.localName==e.localName&&r++;e.localName&&n.unshift(e.localName.toLowerCase()+"["+r+"]")}return n.length?"/"+n.join("/"):null}function pad(e){return e<10?"0"+e:e}function dateToISO8601(e){return e.getUTCFullYear()+"-"+pad(e.getUTCMonth()+1)+"-"+pad(e.getUTCDate())+"T"+pad(e.getUTCHours())+":"+pad(e.getUTCMinutes())+":"+pad(e.getUTCSeconds())+"Z"}function getFingerprint(){setCookie("wtsid",thirdParty.LZString.compressToBase64(JSON.stringify({consumerId:consumerId,sessionId:sessionId||internalSessionId})),6e4);try{get_time_delta();var e=get_browser_info();if(""==getCookie("wtid")){setCookie("wtid",makeUUID("xxxxxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx"),94608e6)}var t={};capture_points[1]&&(t[1]=e.name),capture_points[2]&&(t[2]=e.version),capture_points[3]&&(t[3]=get_os()),capture_points[4]&&(t[4]=window.navigator.userAgent),capture_points[5]&&(t[5]=document.referrer),capture_points[6]&&(t[6]=document.URL),capture_points[7]&&(t[7]=dateToISO8601(new Date)),capture_points[8]&&(t[8]=(new Date).getTimezoneOffset()),capture_points[9]&&(t[9]={1:window.screen.width+"x"+window.screen.height,2:window.screen.availWidth+"x"+window.screen.availHeight,3:window.innerWidth+"x"+window.innerHeight,4:window.screen.colorDepth,5:window.screen.pixelDepth}),capture_points[10]&&(t[10]="Unable to capture flash version"),capture_points[11]&&(t[11]=getJavaVersions()),capture_points[12]&&(t[12]=getLocale()),capture_points[13]&&(t[13]=getInstalledFonts()),capture_points[14]&&(t[14]=getCanvasFingerprint()),capture_points[15]&&(t[15]=getCookie("wtid")),capture_points[18]&&(t[18]=webTagVersion),capture_points[19]&&(t[19]=window.navigator.hardwareConcurrency),webRtcSupport()?(capture_points[16]&&capture_points[17]&&(getAudioVideoDeviceIds(function(e){t[16]=e,t[16]&&t[17]&&post_event_data(t,"f")}),getLocalIpAddress(function(e){t[17]=e,t[16]&&t[17]&&post_event_data(t,"f")})),capture_points[16]&&!capture_points[17]&&getAudioVideoDeviceIds(function(e){t[16]=e,post_event_data(t,"f")}),!capture_points[16]&&capture_points[17]&&getLocalIpAddress(function(e){t[17]=e,post_event_data(t,"f")})):(capture_points[16]&&(t[16]=thirdParty.LZString.decompressFromBase64("HIewLgBAhgRgNgUwmEEDmDJQK4BMCWIA9AG764KoAWUATrgO51ICSuAzhABQDqCMAJQAqAYQgA7cBHbYADrJC0wCXAEogA==")),capture_points[17]&&(t[17]=thirdParty.LZString.decompressFromBase64("HIewLgBAhgRgNgUwmEEDmDJxAYynCASwAcIAKAdQRgCUAVAYQgDtwIBnAV2OJACcwCACYBKIA===")),post_event_data(t,"f"))}catch(e){console.log(e)}}function getDecompressedSessionCookie(e){if(e&&""!==e){var t=thirdParty.LZString.decompressFromBase64(e);return JSON.parse(t)&&Object.keys(JSON.parse(t)).length>0?JSON.parse(t):{consumerId:consumerId,sessionId:sessionId}}return{}}function post_input_data(e){if(setCookie("wtsid",thirdParty.LZString.compressToBase64(JSON.stringify({consumerId:consumerId,sessionId:sessionId||internalSessionId})),6e4),counter=0,data.length>0){var t=data.slice(0);POST_ONLY_ON_REQUEST?e&&(data=[]):data=[],post_event_data(t,"b",e)}}function post_event_data(e,t,n){var o=JSON.stringify(e),a=thirdParty.LZString.compressToBase64(o);DEBUG&&console.log("post_event_data",e);var i={};i[t]=a,POST_ONLY_ON_REQUEST&&n&&(i.f=thirdParty.LZString.compressToBase64(JSON.stringify(fingerprint))),DEBUG&&(i.raw=e);var r={schemaVersion:1,channel:"jsc",eventType:"webtag",sessionId:"undefined"==typeof sessionId||null==sessionId?getDecompressedSessionCookie(getCookie("wtsid")).sessionId:sessionId,consumerId:consumerId,clientId:CLIENT_ID,eventData:i,eventTime:dateToISO8601(new Date),eventId:makeUUID("xxxxxxxxxxyx")};POST_ONLY_ON_REQUEST?n&&callback(r,n):callback(r,n),DEBUG&&console.log(r)}var webTagVersion="1.5.4",callback=function(e,t){var n=endpoint,o=new XMLHttpRequest;endpoint&&(o.open("POST",n,!0),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(e)))};"function"==typeof endpoint&&(callback=endpoint);var data=[],last_x=null,last_y=null,last_time=null,timer=null,counter=0,context=null,internalSessionId=null,getHostname=function(e){var t=document.createElement("a");return t.href=e,t.hostname},thirdParty={md5lib:function(e){function t(e,t){var n=e[0],s=e[1],c=e[2],d=e[3];n=o(n,s,c,d,t[0],7,-680876936),d=o(d,n,s,c,t[1],12,-389564586),c=o(c,d,n,s,t[2],17,606105819),s=o(s,c,d,n,t[3],22,-1044525330),n=o(n,s,c,d,t[4],7,-176418897),d=o(d,n,s,c,t[5],12,1200080426),c=o(c,d,n,s,t[6],17,-1473231341),s=o(s,c,d,n,t[7],22,-45705983),n=o(n,s,c,d,t[8],7,1770035416),d=o(d,n,s,c,t[9],12,-1958414417),c=o(c,d,n,s,t[10],17,-42063),s=o(s,c,d,n,t[11],22,-1990404162),n=o(n,s,c,d,t[12],7,1804603682),d=o(d,n,s,c,t[13],12,-40341101),c=o(c,d,n,s,t[14],17,-1502002290),s=o(s,c,d,n,t[15],22,1236535329),n=a(n,s,c,d,t[1],5,-165796510),d=a(d,n,s,c,t[6],9,-1069501632),c=a(c,d,n,s,t[11],14,643717713),s=a(s,c,d,n,t[0],20,-373897302),n=a(n,s,c,d,t[5],5,-701558691),d=a(d,n,s,c,t[10],9,38016083),c=a(c,d,n,s,t[15],14,-660478335),s=a(s,c,d,n,t[4],20,-405537848),n=a(n,s,c,d,t[9],5,568446438),d=a(d,n,s,c,t[14],9,-1019803690),c=a(c,d,n,s,t[3],14,-187363961),s=a(s,c,d,n,t[8],20,1163531501),n=a(n,s,c,d,t[13],5,-1444681467),d=a(d,n,s,c,t[2],9,-51403784),c=a(c,d,n,s,t[7],14,1735328473),s=a(s,c,d,n,t[12],20,-1926607734),n=i(n,s,c,d,t[5],4,-378558),d=i(d,n,s,c,t[8],11,-2022574463),c=i(c,d,n,s,t[11],16,1839030562),s=i(s,c,d,n,t[14],23,-35309556),n=i(n,s,c,d,t[1],4,-1530992060),d=i(d,n,s,c,t[4],11,1272893353),c=i(c,d,n,s,t[7],16,-155497632),s=i(s,c,d,n,t[10],23,-1094730640),n=i(n,s,c,d,t[13],4,681279174),d=i(d,n,s,c,t[0],11,-358537222),c=i(c,d,n,s,t[3],16,-722521979),s=i(s,c,d,n,t[6],23,76029189),n=i(n,s,c,d,t[9],4,-640364487),d=i(d,n,s,c,t[12],11,-421815835),c=i(c,d,n,s,t[15],16,530742520),s=i(s,c,d,n,t[2],23,-995338651),n=r(n,s,c,d,t[0],6,-198630844),d=r(d,n,s,c,t[7],10,1126891415),c=r(c,d,n,s,t[14],15,-1416354905),s=r(s,c,d,n,t[5],21,-57434055),n=r(n,s,c,d,t[12],6,1700485571),d=r(d,n,s,c,t[3],10,-1894986606),c=r(c,d,n,s,t[10],15,-1051523),s=r(s,c,d,n,t[1],21,-2054922799),n=r(n,s,c,d,t[8],6,1873313359),d=r(d,n,s,c,t[15],10,-30611744),c=r(c,d,n,s,t[6],15,-1560198380),s=r(s,c,d,n,t[13],21,1309151649),n=r(n,s,c,d,t[4],6,-145523070),d=r(d,n,s,c,t[11],10,-1120210379),c=r(c,d,n,s,t[2],15,718787259),s=r(s,c,d,n,t[9],21,-343485551),e[0]=g(n,e[0]),e[1]=g(s,e[1]),e[2]=g(c,e[2]),e[3]=g(d,e[3])}function n(e,t,n,o,a,i){return t=g(g(t,e),g(o,i)),g(t<<a|t>>>32-a,n)}function o(e,t,o,a,i,r,s){return n(t&o|~t&a,e,t,i,r,s)}function a(e,t,o,a,i,r,s){return n(t&a|o&~a,e,t,i,r,s)}function i(e,t,o,a,i,r,s){return n(t^o^a,e,t,i,r,s)}function r(e,t,o,a,i,r,s){return n(o^(t|~a),e,t,i,r,s)}function s(e){txt="";var n,o=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=e.length;n+=64)t(a,c(e.substring(n-64,n)));e=e.substring(n-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)i[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(t(a,i),n=0;n<16;n++)i[n]=0;return i[14]=8*o,t(a,i),a}function c(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function d(e){for(var t="",n=0;n<4;n++)t+=p[e>>8*n+4&15]+p[e>>8*n&15];return t}function l(e){for(var t=0;t<e.length;t++)e[t]=d(e[t]);return e.join("")}function u(e){return l(s(e))}function g(e,t){return e+t&4294967295}function g(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}var p="0123456789abcdef".split("");return u("hello"),u(e)},/* @preserve
            * Copyright (c) 2013 Pieroxy <pieroxy@pieroxy.net>
            * This work is free. You can redistribute it and/or modify it
            * under the terms of the WTFPL, Version 2
            * For more information see LICENSE.txt or http://www.wtfpl.net/
            *
            * For more information, the home page:
            * http://pieroxy.net/blog/pages/lz-string/testing.html
            *
            * LZ-based compression algorithm, version 1.4.4
          */
LZString:function(){function e(e,t){if(!o[e]){o[e]={};for(var n=0;n<e.length;n++)o[e][e.charAt(n)]=n}return o[e][t]}var t=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o={},a={compressToBase64:function(e){if(null==e)return"";var t=a._compress(e,6,function(e){return n.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},_compress:function(e,t,n){if(null==e)return"";var o,a,i,r={},s={},c="",d="",l="",u=2,g=3,p=2,h=[],A=0,m=0;for(i=0;i<e.length;i+=1)if(c=e.charAt(i),Object.prototype.hasOwnProperty.call(r,c)||(r[c]=g++,s[c]=!0),d=l+c,Object.prototype.hasOwnProperty.call(r,d))l=d;else{if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(o=0;o<p;o++)A<<=1,m==t-1?(m=0,h.push(n(A)),A=0):m++;for(a=l.charCodeAt(0),o=0;o<8;o++)A=A<<1|1&a,m==t-1?(m=0,h.push(n(A)),A=0):m++,a>>=1}else{for(a=1,o=0;o<p;o++)A=A<<1|a,m==t-1?(m=0,h.push(n(A)),A=0):m++,a=0;for(a=l.charCodeAt(0),o=0;o<16;o++)A=A<<1|1&a,m==t-1?(m=0,h.push(n(A)),A=0):m++,a>>=1}u--,0==u&&(u=Math.pow(2,p),p++),delete s[l]}else for(a=r[l],o=0;o<p;o++)A=A<<1|1&a,m==t-1?(m=0,h.push(n(A)),A=0):m++,a>>=1;u--,0==u&&(u=Math.pow(2,p),p++),r[d]=g++,l=String(c)}if(""!==l){if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(o=0;o<p;o++)A<<=1,m==t-1?(m=0,h.push(n(A)),A=0):m++;for(a=l.charCodeAt(0),o=0;o<8;o++)A=A<<1|1&a,m==t-1?(m=0,h.push(n(A)),A=0):m++,a>>=1}else{for(a=1,o=0;o<p;o++)A=A<<1|a,m==t-1?(m=0,h.push(n(A)),A=0):m++,a=0;for(a=l.charCodeAt(0),o=0;o<16;o++)A=A<<1|1&a,m==t-1?(m=0,h.push(n(A)),A=0):m++,a>>=1}u--,0==u&&(u=Math.pow(2,p),p++),delete s[l]}else for(a=r[l],o=0;o<p;o++)A=A<<1|1&a,m==t-1?(m=0,h.push(n(A)),A=0):m++,a>>=1;u--,0==u&&(u=Math.pow(2,p),p++)}for(a=2,o=0;o<p;o++)A=A<<1|1&a,m==t-1?(m=0,h.push(n(A)),A=0):m++,a>>=1;for(;;){if(A<<=1,m==t-1){h.push(n(A));break}m++}return h.join("")},decompressFromBase64:function(t){return null==t?"":""==t?null:a._decompress(t.length,32,function(o){return e(n,t.charAt(o))})},_decompress:function(e,n,o){var a,i,r,s,c,d,l,u=[],g=4,p=4,h=3,A="",m=[],f={val:o(0),position:n,index:1};for(a=0;a<3;a+=1)u[a]=a;for(r=0,c=Math.pow(2,2),d=1;d!=c;)s=f.val&f.position,f.position>>=1,0==f.position&&(f.position=n,f.val=o(f.index++)),r|=(s>0?1:0)*d,d<<=1;switch(r){case 0:for(r=0,c=Math.pow(2,8),d=1;d!=c;)s=f.val&f.position,f.position>>=1,0==f.position&&(f.position=n,f.val=o(f.index++)),r|=(s>0?1:0)*d,d<<=1;l=t(r);break;case 1:for(r=0,c=Math.pow(2,16),d=1;d!=c;)s=f.val&f.position,f.position>>=1,0==f.position&&(f.position=n,f.val=o(f.index++)),r|=(s>0?1:0)*d,d<<=1;l=t(r);break;case 2:return""}for(u[3]=l,i=l,m.push(l);;){if(f.index>e)return"";for(r=0,c=Math.pow(2,h),d=1;d!=c;)s=f.val&f.position,f.position>>=1,0==f.position&&(f.position=n,f.val=o(f.index++)),r|=(s>0?1:0)*d,d<<=1;switch(l=r){case 0:for(r=0,c=Math.pow(2,8),d=1;d!=c;)s=f.val&f.position,f.position>>=1,0==f.position&&(f.position=n,f.val=o(f.index++)),r|=(s>0?1:0)*d,d<<=1;u[p++]=t(r),l=p-1,g--;break;case 1:for(r=0,c=Math.pow(2,16),d=1;d!=c;)s=f.val&f.position,f.position>>=1,0==f.position&&(f.position=n,f.val=o(f.index++)),r|=(s>0?1:0)*d,d<<=1;u[p++]=t(r),l=p-1,g--;break;case 2:return m.join("")}if(0==g&&(g=Math.pow(2,h),h++),u[l])A=u[l];else{if(l!==p)return null;A=i+i.charAt(0)}m.push(A),u[p++]=i+A.charAt(0),g--,i=A,0==g&&(g=Math.pow(2,h),h++)}}};return a}()},_prevKeyDown={},makeUUID=function(e){return e.replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})};setup_input_recorder();}
})(window);